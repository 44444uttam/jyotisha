
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>jyotisha.panchangam.helper_functions &#8212; jyotisha 0.0.2 documentation</title>
    <link rel="stylesheet" href="../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '0.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for jyotisha.panchangam.helper_functions</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/python3</span>
<span class="c1">#  -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="k">import</span> <span class="n">floor</span>

<span class="kn">import</span> <span class="nn">swisseph</span> <span class="k">as</span> <span class="nn">swe</span>

<span class="kn">from</span> <span class="nn">indic_transliteration</span> <span class="k">import</span> <span class="n">sanscript</span>
<span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="k">import</span> <span class="n">brentq</span>

<span class="kn">from</span> <span class="nn">jyotisha.names.init_names_auto</span> <span class="k">import</span> <span class="n">init_names_auto</span>

<span class="n">NAMES</span> <span class="o">=</span> <span class="n">init_names_auto</span><span class="p">()</span>

<span class="n">MAX_DAYS</span> <span class="o">=</span> <span class="mi">366</span>
<span class="n">MAX_SZ</span> <span class="o">=</span> <span class="n">MAX_DAYS</span> <span class="o">+</span> <span class="mi">3</span>  <span class="c1"># plus one and minus one are usually necessary</span>

<span class="n">MIN_DAYS_NEXT_ECL</span> <span class="o">=</span> <span class="mi">25</span>
<span class="c1"># next new/full moon from current one is at least 27.3 days away</span>

<span class="n">TITHI</span>          <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">30.0</span><span class="p">,</span>  <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="n">TITHI_PADA</span>     <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">120.0</span><span class="p">,</span> <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="n">NAKSHATRAM</span>     <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">27.0</span><span class="p">,</span>  <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span>  <span class="mi">0</span><span class="p">}</span>
<span class="n">NAKSHATRA_PADA</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">108.0</span><span class="p">,</span> <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span>  <span class="mi">0</span><span class="p">}</span>
<span class="n">RASHI</span>          <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">12.0</span><span class="p">,</span>  <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span>  <span class="mi">0</span><span class="p">}</span>
<span class="n">YOGAM</span>          <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">27.0</span><span class="p">,</span>  <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span>  <span class="mi">1</span><span class="p">}</span>
<span class="n">KARANAM</span>        <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">60.0</span><span class="p">,</span>  <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<span class="n">SOLAR_MONTH</span>    <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">12.0</span><span class="p">,</span>  <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span>  <span class="mi">1</span><span class="p">}</span>
<span class="n">SOLAR_NAKSH</span>    <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;arc_len&#39;</span><span class="p">:</span> <span class="mf">360.0</span> <span class="o">/</span> <span class="mf">27.0</span><span class="p">,</span>  <span class="s1">&#39;w_moon&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;w_sun&#39;</span><span class="p">:</span>  <span class="mi">1</span><span class="p">}</span>


<div class="viewcode-block" id="City"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.City">[docs]</a><span class="k">class</span> <span class="nc">City</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;This class enables the construction of a city object</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">latitude</span><span class="p">,</span> <span class="n">longitude</span><span class="p">,</span> <span class="n">timezone</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Constructor for city&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latstr</span> <span class="o">=</span> <span class="n">latitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lonstr</span> <span class="o">=</span> <span class="n">longitude</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">latitude</span> <span class="o">=</span> <span class="n">sexastr2deci</span><span class="p">(</span><span class="n">latitude</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">longitude</span> <span class="o">=</span> <span class="n">sexastr2deci</span><span class="p">(</span><span class="n">longitude</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timezone</span> <span class="o">=</span> <span class="n">timezone</span></div>


<div class="viewcode-block" id="Time"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.Time">[docs]</a><span class="k">class</span> <span class="nc">Time</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;This  class is a time class with methods for printing, conversion etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span> <span class="o">==</span> <span class="nb">int</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">t</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span><span class="p">(</span><span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Input to time class must be int or float!&#39;</span><span class="p">))</span>

<div class="viewcode-block" id="Time.toString"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.Time.toString">[docs]</a>    <span class="k">def</span> <span class="nf">toString</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">default_suffix</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;hh:mm&#39;</span><span class="p">):</span>
        <span class="n">secs</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">t</span> <span class="o">*</span> <span class="mi">3600</span><span class="p">)</span>  <span class="c1"># round to nearest second</span>
        <span class="n">hour</span> <span class="o">=</span> <span class="n">secs</span> <span class="o">//</span> <span class="mi">3600</span>
        <span class="n">secs</span> <span class="o">=</span> <span class="n">secs</span> <span class="o">%</span> <span class="mi">3600</span>

        <span class="k">if</span> <span class="n">hour</span> <span class="o">&gt;=</span> <span class="mi">24</span><span class="p">:</span>
            <span class="n">hour</span> <span class="o">-=</span> <span class="mi">24</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="s1">&#39;(+1)&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">suffix</span> <span class="o">=</span> <span class="n">default_suffix</span>

        <span class="n">minute</span> <span class="o">=</span> <span class="n">secs</span> <span class="o">//</span> <span class="mi">60</span>
        <span class="n">secs</span> <span class="o">=</span> <span class="n">secs</span> <span class="o">%</span> <span class="mi">60</span>
        <span class="n">second</span> <span class="o">=</span> <span class="n">secs</span>

        <span class="k">if</span> <span class="nb">format</span> <span class="o">==</span> <span class="s1">&#39;hh:mm&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%02d</span><span class="s1">:</span><span class="si">%02d%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">,</span> <span class="n">suffix</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">format</span> <span class="o">==</span> <span class="s1">&#39;hh:mm:ss&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%02d</span><span class="s1">:</span><span class="si">%02d</span><span class="s1">:</span><span class="si">%02d%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">,</span> <span class="n">second</span><span class="p">,</span> <span class="n">suffix</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="sd">&quot;&quot;&quot;Thrown an exception, for unknown format&quot;&quot;&quot;</span></div>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">toString</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s1">&#39;hh:mm:ss&#39;</span><span class="p">)</span></div>


<div class="viewcode-block" id="romanise"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.romanise">[docs]</a><span class="k">def</span> <span class="nf">romanise</span><span class="p">(</span><span class="n">iast_text</span><span class="p">):</span>
    <span class="n">swapTable</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;ā&#39;</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;Ā&#39;</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;ī&#39;</span><span class="p">:</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;ū&#39;</span><span class="p">:</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;ṅ&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;ṇ&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ḍ&#39;</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;ṭ&#39;</span><span class="p">:</span> <span class="s1">&#39;t&#39;</span><span class="p">,</span> <span class="s1">&#39;ṃ&#39;</span><span class="p">:</span> <span class="s1">&#39;m&#39;</span><span class="p">,</span> <span class="s1">&#39;ñ&#39;</span><span class="p">:</span> <span class="s1">&#39;n&#39;</span><span class="p">,</span> <span class="s1">&#39;ṛ&#39;</span><span class="p">:</span> <span class="s1">&#39;ri&#39;</span><span class="p">,</span> <span class="s1">&#39;ś&#39;</span><span class="p">:</span> <span class="s1">&#39;sh&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;Ś&#39;</span><span class="p">:</span> <span class="s1">&#39;Sh&#39;</span><span class="p">,</span> <span class="s1">&#39;ṣ&#39;</span><span class="p">:</span> <span class="s1">&#39;sh&#39;</span><span class="p">,</span> <span class="s1">&#39;Ṣ&#39;</span><span class="p">:</span> <span class="s1">&#39;Sh&#39;</span><span class="p">,</span> <span class="s1">&#39;ḥ&#39;</span><span class="p">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;~&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">}</span>

    <span class="n">roman_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">iast_text</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">swapTable</span><span class="p">:</span>
            <span class="n">roman_text</span> <span class="o">+=</span> <span class="n">swapTable</span><span class="p">[</span><span class="n">char</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">roman_text</span> <span class="o">+=</span> <span class="n">char</span>
    <span class="k">return</span> <span class="n">roman_text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span></div>


<div class="viewcode-block" id="dn2tam"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.dn2tam">[docs]</a><span class="k">def</span> <span class="nf">dn2tam</span><span class="p">(</span><span class="n">dn_text</span><span class="p">):</span>
    <span class="n">swapTable</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39; &#39;</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;~&#39;</span><span class="p">:</span> <span class="s1">&#39;~&#39;</span><span class="p">,</span> <span class="s1">&#39;/&#39;</span><span class="p">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;ऀ&#39;</span><span class="p">:</span> <span class="s1">&#39;ऀ&#39;</span><span class="p">,</span> <span class="s1">&#39;ँ&#39;</span><span class="p">:</span> <span class="s1">&#39;ँ&#39;</span><span class="p">,</span> <span class="s1">&#39;ं&#39;</span><span class="p">:</span> <span class="s1">&#39;ஂ&#39;</span><span class="p">,</span> <span class="s1">&#39;ः&#39;</span><span class="p">:</span> <span class="s1">&#39;ஃ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;अ&#39;</span><span class="p">:</span> <span class="s1">&#39;அ&#39;</span><span class="p">,</span> <span class="s1">&#39;आ&#39;</span><span class="p">:</span> <span class="s1">&#39;ஆ&#39;</span><span class="p">,</span> <span class="s1">&#39;इ&#39;</span><span class="p">:</span> <span class="s1">&#39;இ&#39;</span><span class="p">,</span> <span class="s1">&#39;ई&#39;</span><span class="p">:</span> <span class="s1">&#39;ஈ&#39;</span><span class="p">,</span> <span class="s1">&#39;उ&#39;</span><span class="p">:</span> <span class="s1">&#39;உ&#39;</span><span class="p">,</span> <span class="s1">&#39;ऊ&#39;</span><span class="p">:</span> <span class="s1">&#39;ஊ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ऋ&#39;</span><span class="p">:</span> <span class="s1">&#39;ற&#39;</span><span class="p">,</span> <span class="s1">&#39;ऌ&#39;</span><span class="p">:</span> <span class="s1">&#39;ऌ&#39;</span><span class="p">,</span> <span class="s1">&#39;ऍ&#39;</span><span class="p">:</span> <span class="s1">&#39;ऍ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ऎ&#39;</span><span class="p">:</span> <span class="s1">&#39;எ&#39;</span><span class="p">,</span> <span class="s1">&#39;ए&#39;</span><span class="p">:</span> <span class="s1">&#39;ஏ&#39;</span><span class="p">,</span> <span class="s1">&#39;ऐ&#39;</span><span class="p">:</span> <span class="s1">&#39;ஐ&#39;</span><span class="p">,</span> <span class="s1">&#39;ऑ&#39;</span><span class="p">:</span> <span class="s1">&#39;ऑ&#39;</span><span class="p">,</span> <span class="s1">&#39;ऒ&#39;</span><span class="p">:</span> <span class="s1">&#39;ஒ&#39;</span><span class="p">,</span> <span class="s1">&#39;ओ&#39;</span><span class="p">:</span> <span class="s1">&#39;ஓ&#39;</span><span class="p">,</span> <span class="s1">&#39;औ&#39;</span><span class="p">:</span> <span class="s1">&#39;ஔ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;क&#39;</span><span class="p">:</span> <span class="s1">&#39;க&#39;</span><span class="p">,</span> <span class="s1">&#39;ख&#39;</span><span class="p">:</span> <span class="s1">&#39;க&#39;</span><span class="p">,</span> <span class="s1">&#39;ग&#39;</span><span class="p">:</span> <span class="s1">&#39;க&#39;</span><span class="p">,</span> <span class="s1">&#39;घ&#39;</span><span class="p">:</span> <span class="s1">&#39;க&#39;</span><span class="p">,</span> <span class="s1">&#39;ङ&#39;</span><span class="p">:</span> <span class="s1">&#39;ங&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;च&#39;</span><span class="p">:</span> <span class="s1">&#39;ச&#39;</span><span class="p">,</span> <span class="s1">&#39;छ&#39;</span><span class="p">:</span> <span class="s1">&#39;ச&#39;</span><span class="p">,</span> <span class="s1">&#39;ज&#39;</span><span class="p">:</span> <span class="s1">&#39;ஜ&#39;</span><span class="p">,</span> <span class="s1">&#39;झ&#39;</span><span class="p">:</span> <span class="s1">&#39;ச&#39;</span><span class="p">,</span> <span class="s1">&#39;ञ&#39;</span><span class="p">:</span> <span class="s1">&#39;ஞ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ट&#39;</span><span class="p">:</span> <span class="s1">&#39;ட&#39;</span><span class="p">,</span> <span class="s1">&#39;ठ&#39;</span><span class="p">:</span> <span class="s1">&#39;ட&#39;</span><span class="p">,</span> <span class="s1">&#39;ड&#39;</span><span class="p">:</span> <span class="s1">&#39;ட&#39;</span><span class="p">,</span> <span class="s1">&#39;ढ&#39;</span><span class="p">:</span> <span class="s1">&#39;ட&#39;</span><span class="p">,</span> <span class="s1">&#39;ण&#39;</span><span class="p">:</span> <span class="s1">&#39;ண&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;त&#39;</span><span class="p">:</span> <span class="s1">&#39;த&#39;</span><span class="p">,</span> <span class="s1">&#39;थ&#39;</span><span class="p">:</span> <span class="s1">&#39;த&#39;</span><span class="p">,</span> <span class="s1">&#39;द&#39;</span><span class="p">:</span> <span class="s1">&#39;த&#39;</span><span class="p">,</span> <span class="s1">&#39;ध&#39;</span><span class="p">:</span> <span class="s1">&#39;த&#39;</span><span class="p">,</span> <span class="s1">&#39;न&#39;</span><span class="p">:</span> <span class="s1">&#39;ந&#39;</span><span class="p">,</span> <span class="s1">&#39;ऩ&#39;</span><span class="p">:</span> <span class="s1">&#39;ன&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;प&#39;</span><span class="p">:</span> <span class="s1">&#39;ப&#39;</span><span class="p">,</span> <span class="s1">&#39;फ&#39;</span><span class="p">:</span> <span class="s1">&#39;ப&#39;</span><span class="p">,</span> <span class="s1">&#39;ब&#39;</span><span class="p">:</span> <span class="s1">&#39;ப&#39;</span><span class="p">,</span> <span class="s1">&#39;भ&#39;</span><span class="p">:</span> <span class="s1">&#39;ப&#39;</span><span class="p">,</span> <span class="s1">&#39;म&#39;</span><span class="p">:</span> <span class="s1">&#39;ம&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;य&#39;</span><span class="p">:</span> <span class="s1">&#39;ய&#39;</span><span class="p">,</span> <span class="s1">&#39;र&#39;</span><span class="p">:</span> <span class="s1">&#39;ர&#39;</span><span class="p">,</span> <span class="s1">&#39;ऱ&#39;</span><span class="p">:</span> <span class="s1">&#39;ற&#39;</span><span class="p">,</span> <span class="s1">&#39;ल&#39;</span><span class="p">:</span> <span class="s1">&#39;ல&#39;</span><span class="p">,</span> <span class="s1">&#39;ळ&#39;</span><span class="p">:</span> <span class="s1">&#39;ள&#39;</span><span class="p">,</span> <span class="s1">&#39;ऴ&#39;</span><span class="p">:</span> <span class="s1">&#39;ழ&#39;</span><span class="p">,</span> <span class="s1">&#39;व&#39;</span><span class="p">:</span> <span class="s1">&#39;வ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;श&#39;</span><span class="p">:</span> <span class="s1">&#39;ஶ&#39;</span><span class="p">,</span> <span class="s1">&#39;ष&#39;</span><span class="p">:</span> <span class="s1">&#39;ஷ&#39;</span><span class="p">,</span> <span class="s1">&#39;स&#39;</span><span class="p">:</span> <span class="s1">&#39;ஸ&#39;</span><span class="p">,</span> <span class="s1">&#39;ह&#39;</span><span class="p">:</span> <span class="s1">&#39;ஹ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ऺ&#39;</span><span class="p">:</span> <span class="s1">&#39;ऺ&#39;</span><span class="p">,</span> <span class="s1">&#39;ऻ&#39;</span><span class="p">:</span> <span class="s1">&#39;ऻ&#39;</span><span class="p">,</span> <span class="s1">&#39;़&#39;</span><span class="p">:</span> <span class="s1">&#39;़&#39;</span><span class="p">,</span> <span class="s1">&#39;ऽ&#39;</span><span class="p">:</span> <span class="s1">&#39;ऽ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ा&#39;</span><span class="p">:</span> <span class="s1">&#39;ா&#39;</span><span class="p">,</span> <span class="s1">&#39;ि&#39;</span><span class="p">:</span> <span class="s1">&#39;ி&#39;</span><span class="p">,</span> <span class="s1">&#39;ी&#39;</span><span class="p">:</span> <span class="s1">&#39;ீ&#39;</span><span class="p">,</span> <span class="s1">&#39;ु&#39;</span><span class="p">:</span> <span class="s1">&#39;ு&#39;</span><span class="p">,</span> <span class="s1">&#39;ू&#39;</span><span class="p">:</span> <span class="s1">&#39;ூ&#39;</span><span class="p">,</span> <span class="s1">&#39;ृ&#39;</span><span class="p">:</span> <span class="s1">&#39;று&#39;</span><span class="p">,</span> <span class="s1">&#39;ॄ&#39;</span><span class="p">:</span> <span class="s1">&#39;௄&#39;</span><span class="p">,</span> <span class="s1">&#39;ॅ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॅ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ॆ&#39;</span><span class="p">:</span> <span class="s1">&#39;ெ&#39;</span><span class="p">,</span> <span class="s1">&#39;े&#39;</span><span class="p">:</span> <span class="s1">&#39;ே&#39;</span><span class="p">,</span> <span class="s1">&#39;ै&#39;</span><span class="p">:</span> <span class="s1">&#39;ை&#39;</span><span class="p">,</span> <span class="s1">&#39;ॉ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॉ&#39;</span><span class="p">,</span> <span class="s1">&#39;ॊ&#39;</span><span class="p">:</span> <span class="s1">&#39;ொ&#39;</span><span class="p">,</span> <span class="s1">&#39;ो&#39;</span><span class="p">:</span> <span class="s1">&#39;ோ&#39;</span><span class="p">,</span> <span class="s1">&#39;ौ&#39;</span><span class="p">:</span> <span class="s1">&#39;ௌ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;्&#39;</span><span class="p">:</span> <span class="s1">&#39;்&#39;</span><span class="p">,</span> <span class="s1">&#39;ॎ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॎ&#39;</span><span class="p">,</span> <span class="s1">&#39;ॏ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॏ&#39;</span><span class="p">,</span> <span class="s1">&#39;ॐ&#39;</span><span class="p">:</span> <span class="s1">&#39;ௐ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;॑&#39;</span><span class="p">:</span> <span class="s1">&#39;॑&#39;</span><span class="p">,</span> <span class="s1">&#39;॒&#39;</span><span class="p">:</span> <span class="s1">&#39;॒&#39;</span><span class="p">,</span> <span class="s1">&#39;॓&#39;</span><span class="p">:</span> <span class="s1">&#39;॓&#39;</span><span class="p">,</span> <span class="s1">&#39;॔&#39;</span><span class="p">:</span> <span class="s1">&#39;॔&#39;</span><span class="p">,</span> <span class="s1">&#39;ॕ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॕ&#39;</span><span class="p">,</span> <span class="s1">&#39;ॖ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॖ&#39;</span><span class="p">,</span> <span class="s1">&#39;ॗ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॗ&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ॠ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॠ&#39;</span><span class="p">,</span> <span class="s1">&#39;ॡ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॡ&#39;</span><span class="p">,</span> <span class="s1">&#39;ॢ&#39;</span><span class="p">:</span> <span class="s1">&#39;௢&#39;</span><span class="p">,</span> <span class="s1">&#39;ॣ&#39;</span><span class="p">:</span> <span class="s1">&#39;௣&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;।&#39;</span><span class="p">:</span> <span class="s1">&#39;।&#39;</span><span class="p">,</span> <span class="s1">&#39;॥&#39;</span><span class="p">:</span> <span class="s1">&#39;॥&#39;</span><span class="p">,</span> <span class="s1">&#39;०&#39;</span><span class="p">:</span> <span class="s1">&#39;௦&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;१&#39;</span><span class="p">:</span> <span class="s1">&#39;௧&#39;</span><span class="p">,</span> <span class="s1">&#39;२&#39;</span><span class="p">:</span> <span class="s1">&#39;௨&#39;</span><span class="p">,</span> <span class="s1">&#39;३&#39;</span><span class="p">:</span> <span class="s1">&#39;௩&#39;</span><span class="p">,</span> <span class="s1">&#39;४&#39;</span><span class="p">:</span> <span class="s1">&#39;௪&#39;</span><span class="p">,</span> <span class="s1">&#39;५&#39;</span><span class="p">:</span> <span class="s1">&#39;௫&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;६&#39;</span><span class="p">:</span> <span class="s1">&#39;௬&#39;</span><span class="p">,</span> <span class="s1">&#39;७&#39;</span><span class="p">:</span> <span class="s1">&#39;௭&#39;</span><span class="p">,</span> <span class="s1">&#39;८&#39;</span><span class="p">:</span> <span class="s1">&#39;௮&#39;</span><span class="p">,</span> <span class="s1">&#39;९&#39;</span><span class="p">:</span> <span class="s1">&#39;௯&#39;</span><span class="p">,</span> <span class="s1">&#39;॰&#39;</span><span class="p">:</span> <span class="s1">&#39;॰&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;ॱ&#39;</span><span class="p">:</span> <span class="s1">&#39;ॱ&#39;</span><span class="p">,</span> <span class="s1">&#39;{&#39;</span><span class="p">:</span> <span class="s1">&#39;{&#39;</span><span class="p">,</span> <span class="s1">&#39;}&#39;</span><span class="p">:</span> <span class="s1">&#39;}&#39;</span><span class="p">}</span>

    <span class="n">tam_text</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">dn_text</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">swapTable</span><span class="p">:</span>
            <span class="n">tam_text</span> <span class="o">+=</span> <span class="n">swapTable</span><span class="p">[</span><span class="n">char</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tam_text</span> <span class="o">+=</span> <span class="s1">&#39;!&#39;</span>  <span class="c1"># Noting errors with !</span>
            <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Unknown character in input! </span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">char</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">tam_text</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="p">)</span>  <span class="c1"># .replace(&#39; ன&#39;, &#39; ந&#39;).replace(&#39;-ன&#39;, &#39;ந&#39;)</span></div>


<div class="viewcode-block" id="tr"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.tr">[docs]</a><span class="k">def</span> <span class="nf">tr</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">scr</span><span class="p">,</span> <span class="n">titled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fontize</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">scr</span> <span class="o">==</span> <span class="s1">&#39;hk&#39;</span><span class="p">:</span>
        <span class="n">scr</span> <span class="o">=</span> <span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span>
    <span class="k">if</span> <span class="n">text</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span>

    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;.~samApanam&#39;</span><span class="p">,</span> <span class="s1">&#39;-samApanam&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;.~ArambhaH&#39;</span><span class="p">,</span> <span class="s1">&#39;-ArambhaH&#39;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>

    <span class="n">text_bits</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">)</span>
    <span class="n">transliterated_text</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">if</span> <span class="n">titled</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">text_bits</span><span class="p">:</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;~0123456789 &#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">t</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ta:&#39;</span><span class="p">:</span>
                <span class="c1"># Force Tamil!</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="k">if</span> <span class="n">fontize</span><span class="p">:</span>
                    <span class="n">transliterated_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">tamil{</span><span class="si">%s</span><span class="s1">}&#39;</span> <span class="o">%</span> <span class="n">dn2tam</span><span class="p">(</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">sanscript</span><span class="o">.</span><span class="n">transliterate</span><span class="p">(</span><span class="n">_text</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">_from</span><span class="o">=</span><span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span><span class="p">,</span> <span class="n">_to</span><span class="o">=</span><span class="n">scr</span><span class="p">),</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">()))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">transliterated_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dn2tam</span><span class="p">(</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">sanscript</span><span class="o">.</span><span class="n">transliterate</span><span class="p">(</span><span class="n">_text</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">_from</span><span class="o">=</span><span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span><span class="p">,</span> <span class="n">_to</span><span class="o">=</span><span class="n">scr</span><span class="p">),</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">()))</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;RIGHTarrow&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">transliterated_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="nb">str</span><span class="p">(</span><span class="n">sanscript</span><span class="o">.</span><span class="n">transliterate</span><span class="p">(</span><span class="n">_text</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">_from</span><span class="o">=</span><span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span><span class="p">,</span> <span class="n">_to</span><span class="o">=</span><span class="n">scr</span><span class="p">),</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">())</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="p">[</span><span class="n">txt</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">arrow</span><span class="p">,</span> <span class="n">t2</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">transliterated_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">sanscript</span><span class="o">.</span><span class="n">transliterate</span><span class="p">(</span><span class="n">_text</span><span class="o">=</span><span class="n">txt</span><span class="p">,</span> <span class="n">_from</span><span class="o">=</span><span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span><span class="p">,</span> <span class="n">_to</span><span class="o">=</span><span class="n">scr</span><span class="p">),</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span>
                                   <span class="n">t1</span><span class="p">,</span> <span class="n">arrow</span><span class="p">,</span> <span class="n">t2</span><span class="p">]))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">text_bits</span><span class="p">:</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;~0123456789 &#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">t</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;ta:&#39;</span><span class="p">:</span>
                <span class="c1"># Force Tamil!</span>
                <span class="n">t</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
                <span class="n">transliterated_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dn2tam</span><span class="p">(</span>
                    <span class="nb">str</span><span class="p">(</span><span class="n">sanscript</span><span class="o">.</span><span class="n">transliterate</span><span class="p">(</span><span class="n">_text</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">_from</span><span class="o">=</span><span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span><span class="p">,</span> <span class="n">_to</span><span class="o">=</span><span class="n">scr</span><span class="p">),</span> <span class="s1">&#39;utf8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">title</span><span class="p">()))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;RIGHTarrow&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">transliterated_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">sanscript</span><span class="o">.</span><span class="n">transliterate</span><span class="p">(</span><span class="n">_text</span><span class="o">=</span><span class="n">t</span><span class="p">,</span> <span class="n">_from</span><span class="o">=</span><span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span><span class="p">,</span> <span class="n">_to</span><span class="o">=</span><span class="n">scr</span><span class="p">),</span> <span class="s1">&#39;utf8&#39;</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="p">[</span><span class="n">txt</span><span class="p">,</span> <span class="n">t1</span><span class="p">,</span> <span class="n">arrow</span><span class="p">,</span> <span class="n">t2</span><span class="p">]</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="p">)</span>
                    <span class="n">transliterated_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                        <span class="s1">&#39;</span><span class="se">\\</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">sanscript</span><span class="o">.</span><span class="n">transliterate</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span> <span class="n">_from</span><span class="o">=</span><span class="n">sanscript</span><span class="o">.</span><span class="n">HK</span><span class="p">,</span> <span class="n">_to</span><span class="o">=</span><span class="n">scr</span><span class="p">),</span> <span class="s1">&#39;utf8&#39;</span><span class="p">),</span>
                                   <span class="n">t1</span><span class="p">,</span> <span class="n">arrow</span><span class="p">,</span> <span class="n">t2</span><span class="p">]))</span>

    <span class="k">return</span> <span class="s1">&#39;|&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">transliterated_text</span><span class="p">)</span></div>


<div class="viewcode-block" id="sexastr2deci"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.sexastr2deci">[docs]</a><span class="k">def</span> <span class="nf">sexastr2deci</span><span class="p">(</span><span class="n">sexa_str</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Converts as sexagesimal string to decimal</span>

<span class="sd">    Converts a given sexagesimal string to its decimal value</span>

<span class="sd">    Args:</span>
<span class="sd">      A string encoding of a sexagesimal value, with the various</span>
<span class="sd">      components separated by colons</span>

<span class="sd">    Returns:</span>
<span class="sd">      A decimal value corresponding to the sexagesimal string</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; sexastr2deci(&#39;15:30:00&#39;)</span>
<span class="sd">      15.5</span>
<span class="sd">      &gt;&gt;&gt; sexastr2deci(&#39;-15:30:45&#39;)</span>
<span class="sd">      -15.5125</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">sexa_str</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
        <span class="n">sgn</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">dms</span> <span class="o">=</span> <span class="n">sexa_str</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>  <span class="c1"># dms = degree minute second</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">sgn</span> <span class="o">=</span> <span class="mf">1.0</span>
        <span class="n">dms</span> <span class="o">=</span> <span class="n">sexa_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>

    <span class="n">decival</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">dms</span><span class="p">)):</span>
        <span class="n">decival</span> <span class="o">=</span> <span class="n">decival</span> <span class="o">+</span> <span class="nb">float</span><span class="p">(</span><span class="n">dms</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="mf">60.0</span> <span class="o">**</span> <span class="n">i</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">decival</span> <span class="o">*</span> <span class="n">sgn</span></div>


<div class="viewcode-block" id="revjul"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.revjul">[docs]</a><span class="k">def</span> <span class="nf">revjul</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">formatstr</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%4d</span><span class="s1">-</span><span class="si">%02d</span><span class="s1">-</span><span class="si">%02d</span><span class="s1"> </span><span class="si">%02d</span><span class="s1">:</span><span class="si">%02d</span><span class="s1">:</span><span class="si">%02d</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">tz_off</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a more human readable revjul compared to swe</span>

<span class="sd">    Converts a given jd (float) to a tuple [y,m,d,h,mm,ss]</span>

<span class="sd">    Args:</span>
<span class="sd">      A float corresponding to a Julian day</span>

<span class="sd">    Returns:</span>
<span class="sd">      A tuple detailing the year, month, day, hour, minute and second</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; revjul(2444961.7125, None)</span>
<span class="sd">      (1981, 12, 23, 5, 6, 0)</span>
<span class="sd">      &gt;&gt;&gt; revjul(2444961.7125)</span>
<span class="sd">      &#39;1981-12-23 05:06:00&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">jd</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">h_float</span> <span class="o">=</span> <span class="n">swe</span><span class="o">.</span><span class="n">revjul</span><span class="p">(</span><span class="n">jd</span> <span class="o">+</span> <span class="n">tz_off</span> <span class="o">/</span> <span class="mf">24.0</span><span class="p">)</span>

    <span class="n">hour</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span><span class="n">h_float</span><span class="p">)</span>
    <span class="n">h_float</span> <span class="o">=</span> <span class="p">(</span><span class="n">h_float</span> <span class="o">-</span> <span class="n">hour</span><span class="p">)</span> <span class="o">*</span> <span class="mi">60</span>

    <span class="n">minute</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span><span class="n">h_float</span><span class="p">)</span>
    <span class="n">h_float</span> <span class="o">=</span> <span class="p">(</span><span class="n">h_float</span> <span class="o">-</span> <span class="n">minute</span><span class="p">)</span> <span class="o">*</span> <span class="mi">60</span>

    <span class="n">second</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">h_float</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">second</span> <span class="o">==</span> <span class="mi">60</span><span class="p">:</span>
        <span class="n">minute</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">second</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="n">minute</span> <span class="o">==</span> <span class="mi">60</span><span class="p">:</span>
            <span class="n">hour</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">minute</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="n">hour</span> <span class="o">==</span> <span class="mi">24</span><span class="p">:</span>
                <span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">_h</span> <span class="o">=</span> <span class="n">swe</span><span class="o">.</span><span class="n">revjul</span><span class="p">(</span><span class="n">jd</span> <span class="o">+</span> <span class="p">(</span><span class="n">tz_off</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mf">24.0</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">formatstr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">,</span> <span class="n">second</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">formatstr</span> <span class="o">%</span> <span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hour</span><span class="p">,</span> <span class="n">minute</span><span class="p">,</span> <span class="n">second</span><span class="p">))</span></div>


<div class="viewcode-block" id="print_lat_lon"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.print_lat_lon">[docs]</a><span class="k">def</span> <span class="nf">print_lat_lon</span><span class="p">(</span><span class="n">latstr</span><span class="p">,</span> <span class="n">lonstr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns a formatted string for a latitude and longitude</span>

<span class="sd">    Returns a formatted string for latitude and longitude, given sexagesimal</span>
<span class="sd">    &#39;strings&#39; using colons for separation</span>

<span class="sd">    Args:</span>
<span class="sd">      str latstr</span>
<span class="sd">      str lonstr</span>

<span class="sd">    Returns:</span>
<span class="sd">      string corresponding to the formatted latitude and longitude</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; print_lat_lon(&#39;13:05:24&#39;,&#39;80:16:12&#39;) #Chennai</span>
<span class="sd">      &quot;13°05&#39;24&#39;&#39;N, 80°16&#39;12&#39;&#39;E&quot;</span>
<span class="sd">      &gt;&gt;&gt; print_lat_lon(&#39;37:23:59&#39;,&#39;-122:08:34&#39;) #Palo Alto</span>
<span class="sd">      &quot;37°23&#39;59&#39;&#39;N, 122°08&#39;34&#39;&#39;W&quot;</span>
<span class="sd">      &gt;&gt;&gt; print_lat_lon(&#39;1&#39;,&#39;-1&#39;)</span>
<span class="sd">      &quot;1°0&#39;0&#39;&#39;N, 1°0&#39;0&#39;&#39;W&quot;</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span><span class="p">(</span><span class="n">latstr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">):</span>
        <span class="n">latstr</span> <span class="o">=</span> <span class="n">latstr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">lat_suffix</span> <span class="o">=</span> <span class="s1">&#39;S&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lat_suffix</span> <span class="o">=</span> <span class="s1">&#39;N&#39;</span>

    <span class="n">lat_data</span> <span class="o">=</span> <span class="n">latstr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">lat_data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">lat_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">formatted_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">°</span><span class="si">%s</span><span class="se">\&#39;</span><span class="si">%s</span><span class="se">\&#39;\&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">lat_data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">lat_data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lat_data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">lat_suffix</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">lonstr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
        <span class="n">lonstr</span> <span class="o">=</span> <span class="n">lonstr</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">lon_suffix</span> <span class="o">=</span> <span class="s1">&#39;W&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lon_suffix</span> <span class="o">=</span> <span class="s1">&#39;E&#39;</span>

    <span class="n">lon_data</span> <span class="o">=</span> <span class="n">lonstr</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">lon_data</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">lon_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">formatted_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">, </span><span class="si">%s</span><span class="s1">°</span><span class="si">%s</span><span class="se">\&#39;</span><span class="si">%s</span><span class="se">\&#39;\&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">formatted_string</span><span class="p">,</span> <span class="n">lon_data</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                <span class="n">lon_data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">lon_data</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">lon_suffix</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">formatted_string</span></div>


<div class="viewcode-block" id="get_ekadashi_name"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_ekadashi_name">[docs]</a><span class="k">def</span> <span class="nf">get_ekadashi_name</span><span class="p">(</span><span class="n">paksha</span><span class="p">,</span> <span class="n">lmonth</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return the name of an ekadashi</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">paksha</span> <span class="o">==</span> <span class="s1">&#39;shukla&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lmonth</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">lmonth</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">~EkAdazI&#39;</span> <span class="o">%</span> <span class="n">NAMES</span><span class="p">[</span><span class="s1">&#39;SHUKLA_EKADASHI&#39;</span><span class="p">][</span><span class="s1">&#39;hk&#39;</span><span class="p">][</span><span class="n">lmonth</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># adhika mAsam</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">~EkAdazI&#39;</span> <span class="o">%</span> <span class="n">NAMES</span><span class="p">[</span><span class="s1">&#39;SHUKLA_EKADASHI&#39;</span><span class="p">][</span><span class="s1">&#39;hk&#39;</span><span class="p">][</span><span class="mi">13</span><span class="p">]</span>
    <span class="k">elif</span> <span class="n">paksha</span> <span class="o">==</span> <span class="s1">&#39;krishna&#39;</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">lmonth</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">lmonth</span><span class="p">):</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">~EkAdazI&#39;</span> <span class="o">%</span> <span class="n">NAMES</span><span class="p">[</span><span class="s1">&#39;KRISHNA_EKADASHI&#39;</span><span class="p">][</span><span class="s1">&#39;hk&#39;</span><span class="p">][</span><span class="n">lmonth</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># adhika mAsam</span>
            <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">~EkAdazI&#39;</span> <span class="o">%</span> <span class="n">NAMES</span><span class="p">[</span><span class="s1">&#39;KRISHNA_EKADASHI&#39;</span><span class="p">][</span><span class="s1">&#39;hk&#39;</span><span class="p">][</span><span class="mi">13</span><span class="p">]</span></div>


<div class="viewcode-block" id="get_chandra_masa"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_chandra_masa">[docs]</a><span class="k">def</span> <span class="nf">get_chandra_masa</span><span class="p">(</span><span class="n">month</span><span class="p">,</span> <span class="n">NAMES</span><span class="p">,</span> <span class="n">script</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">month</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">NAMES</span><span class="p">[</span><span class="s1">&#39;CHANDRA_MASA&#39;</span><span class="p">][</span><span class="n">script</span><span class="p">][</span><span class="n">month</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">~(</span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">NAMES</span><span class="p">[</span><span class="s1">&#39;CHANDRA_MASA&#39;</span><span class="p">][</span><span class="n">script</span><span class="p">][</span><span class="nb">int</span><span class="p">(</span><span class="n">month</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">tr</span><span class="p">(</span><span class="s1">&#39;adhika&#39;</span><span class="p">,</span> <span class="n">script</span><span class="p">))</span></div>


<div class="viewcode-block" id="get_tithi"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_tithi">[docs]</a><span class="k">def</span> <span class="nf">get_tithi</span><span class="p">(</span><span class="n">jd</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the tithi prevailing at a given moment</span>

<span class="sd">    Tithi is computed as the difference in the longitudes of the moon</span>
<span class="sd">    and sun at any given point of time. Therefore, even the ayanamsha</span>
<span class="sd">    does not matter, as it gets cancelled out.</span>

<span class="sd">    Args:</span>
<span class="sd">      float jd, the Julian day</span>

<span class="sd">    Returns:</span>
<span class="sd">      int tithi, where 1 stands for ShuklapakshaPrathama, ..., 15 stands</span>
<span class="sd">      for Paurnamasi, ..., 23 stands for KrishnapakshaAshtami, 30 stands</span>
<span class="sd">      for Amavasya</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; get_tithi(2444961.7125)</span>
<span class="sd">      28</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">TITHI</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_nakshatram"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_nakshatram">[docs]</a><span class="k">def</span> <span class="nf">get_nakshatram</span><span class="p">(</span><span class="n">jd</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the nakshatram prevailing at a given moment</span>

<span class="sd">    Nakshatram is computed based on the longitude of the Moon; in</span>
<span class="sd">    addition, to obtain the absolute value of the longitude, the</span>
<span class="sd">    ayanamsa is required to be subtracted.</span>

<span class="sd">    Args:</span>
<span class="sd">      float jd, the Julian day</span>

<span class="sd">    Returns:</span>
<span class="sd">      int nakShatram, where 1 stands for Ashwini, ..., 14 stands</span>
<span class="sd">      for Chitra, ..., 27 stands for Revati</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; get_nakshatram(2444961.7125)</span>
<span class="sd">      16</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">NAKSHATRAM</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_solar_rashi"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_solar_rashi">[docs]</a><span class="k">def</span> <span class="nf">get_solar_rashi</span><span class="p">(</span><span class="n">jd</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the solar rashi prevailing at a given moment</span>

<span class="sd">    Solar month is computed based on the longitude of the sun; in</span>
<span class="sd">    addition, to obtain the absolute value of the longitude, the</span>
<span class="sd">    ayanamsa is required to be subtracted.</span>

<span class="sd">    Args:</span>
<span class="sd">      float jd, the Julian day</span>

<span class="sd">    Returns:</span>
<span class="sd">      int rashi, where 1 stands for mESa, ..., 12 stands for mIna</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; get_solar_rashi(2444961.7125)</span>
<span class="sd">      9</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">SOLAR_MONTH</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_angam_float"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_angam_float">[docs]</a><span class="k">def</span> <span class="nf">get_angam_float</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the angam</span>

<span class="sd">      Args:</span>
<span class="sd">        float jd: The Julian Day at which the angam is to be computed</span>
<span class="sd">        angam_type: One of the pre-defined constants in the panchangam</span>
<span class="sd">        class, such as TITHI, NAKSHATRAM, YOGAM, KARANAM or SOLAR_MONTH</span>

<span class="sd">      Returns:</span>
<span class="sd">        float angam</span>

<span class="sd">      Examples:</span>
<span class="sd">        &gt;&gt;&gt; get_angam_float(2444961.7125,NAKSHATRAM)</span>
<span class="sd">        15.967801358055189</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">swe</span><span class="o">.</span><span class="n">set_sid_mode</span><span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">SIDM_LAHIRI</span><span class="p">)</span>  <span class="c1"># Force Lahiri Ayanamsha</span>
    <span class="n">w_moon</span> <span class="o">=</span> <span class="n">angam_type</span><span class="p">[</span><span class="s1">&#39;w_moon&#39;</span><span class="p">]</span>
    <span class="n">w_sun</span> <span class="o">=</span> <span class="n">angam_type</span><span class="p">[</span><span class="s1">&#39;w_sun&#39;</span><span class="p">]</span>
    <span class="n">arc_len</span> <span class="o">=</span> <span class="n">angam_type</span><span class="p">[</span><span class="s1">&#39;arc_len&#39;</span><span class="p">]</span>

    <span class="n">lcalc</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># computing weighted longitudes</span>
    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## get_angam_float(): jd=&#39;</span><span class="p">,</span> <span class="n">jd</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">w_moon</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">lmoon</span> <span class="o">=</span> <span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">calc_ut</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">swe</span><span class="o">.</span><span class="n">MOON</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">swe</span><span class="o">.</span><span class="n">get_ayanamsa</span><span class="p">(</span><span class="n">jd</span><span class="p">))</span> <span class="o">%</span> <span class="mi">360</span>
        <span class="k">if</span><span class="p">(</span><span class="n">debug</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## get_angam_float(): lmoon=&#39;</span><span class="p">,</span> <span class="n">lmoon</span><span class="p">)</span>
        <span class="n">lcalc</span> <span class="o">+=</span> <span class="n">w_moon</span> <span class="o">*</span> <span class="n">lmoon</span>

    <span class="k">if</span> <span class="n">w_sun</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">lsun</span> <span class="o">=</span> <span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">calc_ut</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">swe</span><span class="o">.</span><span class="n">SUN</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">swe</span><span class="o">.</span><span class="n">get_ayanamsa</span><span class="p">(</span><span class="n">jd</span><span class="p">))</span> <span class="o">%</span> <span class="mi">360</span>
        <span class="k">if</span><span class="p">(</span><span class="n">debug</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## get_angam_float(): lsun=&#39;</span><span class="p">,</span> <span class="n">lsun</span><span class="p">)</span>
        <span class="n">lcalc</span> <span class="o">+=</span> <span class="n">w_sun</span> <span class="o">*</span> <span class="n">lsun</span>

    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## get_angam_float(): lcalc=&#39;</span><span class="p">,</span> <span class="n">lcalc</span><span class="p">)</span>

    <span class="n">lcalc</span> <span class="o">=</span> <span class="n">lcalc</span> <span class="o">%</span> <span class="mi">360</span>

    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## get_angam_float(): lcalc%360=&#39;</span><span class="p">,</span> <span class="n">lcalc</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;offset: &quot;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">offset</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">360.0</span> <span class="o">/</span> <span class="n">arc_len</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">offset</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="mf">360.0</span> <span class="o">/</span> <span class="n">arc_len</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">lcalc</span> <span class="o">+</span> <span class="n">offset</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">lcalc</span> <span class="o">/</span> <span class="n">arc_len</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">lcalc</span> <span class="o">/</span> <span class="n">arc_len</span><span class="p">)</span> <span class="o">+</span> <span class="n">offset</span></div>


<div class="viewcode-block" id="get_nirayana_sun_lon"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_nirayana_sun_lon">[docs]</a><span class="k">def</span> <span class="nf">get_nirayana_sun_lon</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the nirayana longitude of the sun</span>

<span class="sd">      Args:</span>
<span class="sd">        float jd: The Julian Day at which the angam is to be computed</span>

<span class="sd">      Returns:</span>
<span class="sd">        float longitude</span>

<span class="sd">      Examples:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lsun</span> <span class="o">=</span> <span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">calc_ut</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">swe</span><span class="o">.</span><span class="n">SUN</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="o">%</span> <span class="mi">360</span>

    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;## get_angam_float(): lsun (nirayana) =&#39;</span><span class="p">,</span> <span class="n">lsun</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">lsun</span> <span class="o">+</span> <span class="n">offset</span></div>


<div class="viewcode-block" id="get_angam"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_angam">[docs]</a><span class="k">def</span> <span class="nf">get_angam</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the angam prevailing at a particular time</span>

<span class="sd">      Args:</span>
<span class="sd">        float jd: The Julian Day at which the angam is to be computed</span>
<span class="sd">        float arc_len: The arc_len for the corresponding angam</span>
<span class="sd">        w_moon: The multiplier for moon&#39;s longitude</span>
<span class="sd">        w_sun: The multiplier for sun&#39;s longitude</span>

<span class="sd">      Returns:</span>
<span class="sd">        int angam</span>

<span class="sd">      Examples:</span>
<span class="sd">      &gt;&gt;&gt; get_angam(2444961.7125,NAKSHATRAM)</span>
<span class="sd">      16</span>

<span class="sd">      &gt;&gt;&gt; get_angam(2444961.7125,TITHI)</span>
<span class="sd">      28</span>

<span class="sd">      &gt;&gt;&gt; get_angam(2444961.7125,YOGAM)</span>
<span class="sd">      8</span>

<span class="sd">      &gt;&gt;&gt; get_angam(2444961.7125,KARANAM)</span>
<span class="sd">      55</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">swe</span><span class="o">.</span><span class="n">set_sid_mode</span><span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">SIDM_LAHIRI</span><span class="p">)</span>  <span class="c1"># Force Lahiri Ayanamsha</span>

    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">floor</span><span class="p">(</span><span class="n">get_angam_float</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">)))</span></div>


<div class="viewcode-block" id="get_angam_span"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_angam_span">[docs]</a><span class="k">def</span> <span class="nf">get_angam_span</span><span class="p">(</span><span class="n">jd1</span><span class="p">,</span> <span class="n">jd2</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Computes angam spans for angams such as tithi, nakshatram, yogam</span>
<span class="sd">        and karanam.</span>

<span class="sd">        Args:</span>
<span class="sd">          jd1: return all spans that start after this date</span>
<span class="sd">          jd2: return all spans that end before this date</span>
<span class="sd">          angam_type: TITHI, NAKSHATRAM, YOGAM, KARANAM, SOLAR_MONTH, SOLAR_NAKSH</span>

<span class="sd">        Returns:</span>
<span class="sd">          list: A list comprising tuples of start and end times that lie within</span>
<span class="sd">            jd1 and jd2</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">angam_start</span> <span class="o">=</span> <span class="n">angam_end</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">num_angas</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">360.0</span> <span class="o">/</span> <span class="n">angam_type</span><span class="p">[</span><span class="s1">&#39;arc_len&#39;</span><span class="p">])</span>

    <span class="n">jd_bracket_L</span> <span class="o">=</span> <span class="n">jd1</span>
    <span class="n">jd_bracket_R</span> <span class="o">=</span> <span class="n">jd2</span>

    <span class="n">h</span> <span class="o">=</span> <span class="mf">0.5</span>   <span class="c1"># Min Step for moving</span>

    <span class="n">jd_now</span> <span class="o">=</span> <span class="n">jd1</span>
    <span class="k">while</span> <span class="n">jd_now</span> <span class="o">&lt;</span> <span class="n">jd2</span> <span class="ow">and</span> <span class="n">angam_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">angam_now</span> <span class="o">=</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd_now</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">jd_now</span><span class="p">,</span> <span class="n">revjul</span><span class="p">(</span><span class="n">jd_now</span><span class="p">),</span> <span class="n">angam_now</span><span class="p">,</span> <span class="n">get_angam_float</span><span class="p">(</span><span class="n">jd_now</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">angam_now</span> <span class="o">&lt;</span> <span class="n">target</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1"> jd_bracket_L &#39;</span><span class="p">,</span> <span class="n">jd_now</span><span class="p">)</span>
            <span class="n">jd_bracket_L</span> <span class="o">=</span> <span class="n">jd_now</span>
        <span class="k">if</span> <span class="n">angam_now</span> <span class="o">==</span> <span class="n">target</span><span class="p">:</span>
            <span class="n">angam_start</span> <span class="o">=</span> <span class="n">brentq</span><span class="p">(</span><span class="n">get_angam_float</span><span class="p">,</span> <span class="n">jd_bracket_L</span><span class="p">,</span> <span class="n">jd_now</span><span class="p">,</span>
                                 <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">angam_type</span><span class="p">,</span> <span class="o">-</span><span class="n">target</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1"> angam_start&#39;</span><span class="p">,</span> <span class="n">angam_start</span><span class="p">)</span>
        <span class="c1"># if angam_now &gt; target and angam_start is not None:</span>
        <span class="c1">#     angam_end = brentq(get_angam_float, angam_start, jd_now,</span>
        <span class="c1">#                        args=(angam_type, -target, False))</span>
        <span class="n">jd_now</span> <span class="o">+=</span> <span class="n">h</span>

    <span class="k">if</span> <span class="n">angam_start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>  <span class="c1"># If it doesn&#39;t start, we don&#39;t care if it ends!</span>
    <span class="n">jd_now</span> <span class="o">=</span> <span class="n">angam_start</span>

    <span class="k">while</span> <span class="n">jd_now</span> <span class="o">&lt;</span> <span class="n">jd2</span> <span class="ow">and</span> <span class="n">angam_end</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">angam_now</span> <span class="o">=</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd_now</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1">#&#39;</span><span class="p">,</span> <span class="n">jd_now</span><span class="p">,</span> <span class="n">revjul</span><span class="p">(</span><span class="n">jd_now</span><span class="p">),</span> <span class="n">angam_now</span><span class="p">,</span> <span class="n">get_angam_float</span><span class="p">(</span><span class="n">jd_now</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">target</span> <span class="o">==</span> <span class="n">num_angas</span><span class="p">:</span>
            <span class="c1"># Wait till we land at the next anga!</span>
            <span class="k">if</span> <span class="n">angam_now</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">jd_bracket_R</span> <span class="o">=</span> <span class="n">jd_now</span>
                <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1"># jd_bracket_R &#39;</span><span class="p">,</span> <span class="n">jd_now</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">angam_now</span> <span class="o">&gt;</span> <span class="n">target</span><span class="p">:</span>
                <span class="n">jd_bracket_R</span> <span class="o">=</span> <span class="n">jd_now</span>
                <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1">! jd_bracket_R &#39;</span><span class="p">,</span> <span class="n">jd_now</span><span class="p">)</span>
                <span class="k">break</span>
        <span class="n">jd_now</span> <span class="o">+=</span> <span class="n">h</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">angam_end</span> <span class="o">=</span> <span class="n">brentq</span><span class="p">(</span><span class="n">get_angam_float</span><span class="p">,</span> <span class="n">angam_start</span><span class="p">,</span> <span class="n">jd_bracket_R</span><span class="p">,</span>
                           <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">angam_type</span><span class="p">,</span> <span class="o">-</span><span class="n">target</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Unable to compute angam_end (</span><span class="si">%s</span><span class="s1">-&gt;</span><span class="si">%d</span><span class="s1">); possibly could not bracket correctly!</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">angam_type</span><span class="p">),</span> <span class="n">target</span><span class="p">))</span>

    <span class="k">if</span> <span class="n">debug</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%%</span><span class="s1"> angam_end&#39;</span><span class="p">,</span> <span class="n">angam_end</span><span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">angam_start</span><span class="p">,</span> <span class="n">angam_end</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_angam_data"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_angam_data">[docs]</a><span class="k">def</span> <span class="nf">get_angam_data</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">,</span> <span class="n">jd_sunrise_tmrw</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Computes angam data for angams such as tithi, nakshatram, yogam</span>
<span class="sd">    and karanam.</span>

<span class="sd">    Args:</span>
<span class="sd">      angam_type: TITHI, NAKSHATRAM, YOGAM, KARANAM, SOLAR_MONTH, SOLAR_NAKSH</span>


<span class="sd">    Returns:</span>
<span class="sd">      tuple: A tuple comprising</span>
<span class="sd">        angam_sunrise: The angam that prevails as sunrise</span>
<span class="sd">        angam_data: a list of (int, float) tuples detailing the angams</span>
<span class="sd">        for the day and their end-times (Julian day)</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; get_angam_data(2444961.54042,2444962.54076,TITHI)</span>
<span class="sd">      [(27, 2444961.599213231)]</span>
<span class="sd">      &gt;&gt;&gt; get_angam_data(2444961.54042,2444962.54076,NAKSHATRAM)</span>
<span class="sd">      [(16, 2444961.7487953394)]</span>
<span class="sd">      &gt;&gt;&gt; get_angam_data(2444961.54042,2444962.54076,YOGAM)</span>
<span class="sd">      [(8, 2444962.1861976916)]</span>
<span class="sd">      &gt;&gt;&gt; get_angam_data(2444961.54042,2444962.54076,KARANAM)</span>
<span class="sd">      [(54, 2444961.599213231), (55, 2444962.15444546)]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">swe</span><span class="o">.</span><span class="n">set_sid_mode</span><span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">SIDM_LAHIRI</span><span class="p">)</span>  <span class="c1"># Force Lahiri Ayanamsha</span>

    <span class="n">w_moon</span> <span class="o">=</span> <span class="n">angam_type</span><span class="p">[</span><span class="s1">&#39;w_moon&#39;</span><span class="p">]</span>
    <span class="n">w_sun</span> <span class="o">=</span> <span class="n">angam_type</span><span class="p">[</span><span class="s1">&#39;w_sun&#39;</span><span class="p">]</span>
    <span class="n">arc_len</span> <span class="o">=</span> <span class="n">angam_type</span><span class="p">[</span><span class="s1">&#39;arc_len&#39;</span><span class="p">]</span>

    <span class="n">num_angas</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mf">360.0</span> <span class="o">/</span> <span class="n">arc_len</span><span class="p">)</span>

    <span class="c1"># Compute angam details</span>
    <span class="n">angam_now</span> <span class="o">=</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">)</span>
    <span class="n">angam_tmrw</span> <span class="o">=</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd_sunrise_tmrw</span><span class="p">,</span> <span class="n">angam_type</span><span class="p">)</span>

    <span class="n">angams_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="n">num_angas_today</span> <span class="o">=</span> <span class="p">(</span><span class="n">angam_tmrw</span> <span class="o">-</span> <span class="n">angam_now</span><span class="p">)</span> <span class="o">%</span> <span class="n">num_angas</span>

    <span class="k">if</span> <span class="n">num_angas_today</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># The angam does not change until sunrise tomorrow</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">angam_now</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">lmoon</span> <span class="o">=</span> <span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">calc_ut</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">,</span> <span class="n">swe</span><span class="o">.</span><span class="n">MOON</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">swe</span><span class="o">.</span><span class="n">get_ayanamsa</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">))</span> <span class="o">%</span> <span class="mi">360</span>

        <span class="n">lsun</span> <span class="o">=</span> <span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">calc_ut</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">,</span> <span class="n">swe</span><span class="o">.</span><span class="n">SUN</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">swe</span><span class="o">.</span><span class="n">get_ayanamsa</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">))</span> <span class="o">%</span> <span class="mi">360</span>

        <span class="n">lmoon_tmrw</span> <span class="o">=</span> <span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">calc_ut</span><span class="p">(</span><span class="n">jd_sunrise_tmrw</span><span class="p">,</span> <span class="n">swe</span><span class="o">.</span><span class="n">MOON</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span>
                      <span class="n">swe</span><span class="o">.</span><span class="n">get_ayanamsa</span><span class="p">(</span><span class="n">jd_sunrise_tmrw</span><span class="p">))</span> <span class="o">%</span> <span class="mi">360</span>

        <span class="n">lsun_tmrw</span> <span class="o">=</span> <span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">calc_ut</span><span class="p">(</span><span class="n">jd_sunrise_tmrw</span><span class="p">,</span> <span class="n">swe</span><span class="o">.</span><span class="n">SUN</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span>
                     <span class="n">swe</span><span class="o">.</span><span class="n">get_ayanamsa</span><span class="p">(</span><span class="n">jd_sunrise_tmrw</span><span class="p">))</span> <span class="o">%</span> <span class="mi">360</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_angas_today</span><span class="p">):</span>
            <span class="n">angam_remaining</span> <span class="o">=</span> <span class="n">arc_len</span> <span class="o">*</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="p">(((</span><span class="n">lmoon</span> <span class="o">*</span> <span class="n">w_moon</span> <span class="o">+</span>
                                                     <span class="n">lsun</span> <span class="o">*</span> <span class="n">w_sun</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">)</span> <span class="o">%</span> <span class="n">arc_len</span><span class="p">)</span>

            <span class="c1"># First compute approximate end time by essentially assuming</span>
            <span class="c1"># the speed of the moon and the sun to be constant</span>
            <span class="c1"># throughout the day. Therefore, angam_remaining is computed</span>
            <span class="c1"># just based on the difference in longitudes for sun and</span>
            <span class="c1"># moon today and tomorrow.</span>
            <span class="n">approx_end</span> <span class="o">=</span> <span class="n">jd_sunrise</span> <span class="o">+</span> <span class="n">angam_remaining</span> <span class="o">/</span> <span class="p">(((</span><span class="n">lmoon_tmrw</span> <span class="o">-</span> <span class="n">lmoon</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="n">w_moon</span> <span class="o">+</span>
                                                         <span class="p">((</span><span class="n">lsun_tmrw</span> <span class="o">-</span> <span class="n">lsun</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">)</span> <span class="o">*</span> <span class="n">w_sun</span><span class="p">)</span>

            <span class="c1"># Initial guess value for the exact end time of the angam</span>
            <span class="n">x0</span> <span class="o">=</span> <span class="n">approx_end</span>

            <span class="c1"># What is the target (next) angam? It is needed to be passed</span>
            <span class="c1"># to get_angam_float for zero-finding. If the target angam</span>
            <span class="c1"># is say, 12, then we need to subtract 12 from the value</span>
            <span class="c1"># returned by get_angam_float, so that this function can be</span>
            <span class="c1"># passed as is to a zero-finding method like brentq or</span>
            <span class="c1"># newton. Since we have a good x0 guess, it is easy to</span>
            <span class="c1"># bracket the function in an interval where the function</span>
            <span class="c1"># changes sign. Therefore, brenth can be used, as suggested</span>
            <span class="c1"># in the scipy documentation.</span>
            <span class="n">target</span> <span class="o">=</span> <span class="p">(</span><span class="n">angam_now</span> <span class="o">+</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">num_angas</span> <span class="o">+</span> <span class="mi">1</span>

            <span class="c1"># Approximate error in calculation of end time -- arbitrary</span>
            <span class="c1"># used to bracket the root, for brenth</span>
            <span class="n">TDELTA</span> <span class="o">=</span> <span class="mf">0.05</span>
            <span class="n">t_act</span> <span class="o">=</span> <span class="n">brentq</span><span class="p">(</span><span class="n">get_angam_float</span><span class="p">,</span> <span class="n">x0</span> <span class="o">-</span> <span class="n">TDELTA</span><span class="p">,</span> <span class="n">x0</span> <span class="o">+</span> <span class="n">TDELTA</span><span class="p">,</span>
                           <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">angam_type</span><span class="p">,</span> <span class="o">-</span><span class="n">target</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>
            <span class="n">angams_list</span><span class="o">.</span><span class="n">extend</span><span class="p">([((</span><span class="n">angam_now</span> <span class="o">+</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">num_angas</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">t_act</span><span class="p">)])</span>
    <span class="k">return</span> <span class="n">angams_list</span></div>


<div class="viewcode-block" id="get_lagna_float"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_lagna_float">[docs]</a><span class="k">def</span> <span class="nf">get_lagna_float</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the angam</span>

<span class="sd">      Args:</span>
<span class="sd">        float jd: The Julian Day at which the lagnam is to be computed</span>
<span class="sd">        lat: Latitude of the place where the lagnam is to be computed</span>
<span class="sd">        lon: Longitude of the place where the lagnam is to be computed</span>
<span class="sd">        offset: Used by internal functions for bracketing</span>

<span class="sd">      Returns:</span>
<span class="sd">        float lagna</span>

<span class="sd">      Examples:</span>
<span class="sd">        &gt;&gt;&gt; get_lagna_float(2444961.7125,13.08784, 80.27847)</span>
<span class="sd">        10.353595502472984</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">swe</span><span class="o">.</span><span class="n">set_sid_mode</span><span class="p">(</span><span class="n">swe</span><span class="o">.</span><span class="n">SIDM_LAHIRI</span><span class="p">)</span>  <span class="c1"># Force Lahiri Ayanamsha</span>
    <span class="n">lcalc</span> <span class="o">=</span> <span class="n">swe</span><span class="o">.</span><span class="n">houses_ex</span><span class="p">(</span><span class="n">jd</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">swe</span><span class="o">.</span><span class="n">get_ayanamsa_ut</span><span class="p">(</span><span class="n">jd</span><span class="p">)</span>
    <span class="n">lcalc</span> <span class="o">=</span> <span class="n">lcalc</span> <span class="o">%</span> <span class="mi">360</span>

    <span class="k">if</span> <span class="n">offset</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">debug</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;offset:&#39;</span><span class="p">,</span> <span class="n">offset</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lcalc/30&#39;</span><span class="p">,</span> <span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lcalc/30 + offset = &#39;</span><span class="p">,</span> <span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span>

        <span class="c1"># The max expected value is somewhere between 2 and -2, with bracketing</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">+</span> <span class="n">offset</span> <span class="o">-</span> <span class="mi">12</span>
        <span class="k">elif</span> <span class="p">(</span><span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span> <span class="o">+</span> <span class="n">offset</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="o">-</span><span class="mi">3</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">lcalc</span> <span class="o">/</span> <span class="mi">30</span><span class="p">)</span> <span class="o">+</span> <span class="n">offset</span></div>


<div class="viewcode-block" id="get_lagna_data"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_lagna_data">[docs]</a><span class="k">def</span> <span class="nf">get_lagna_data</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="n">tz_off</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns the lagna data</span>

<span class="sd">      Args:</span>
<span class="sd">        float jd: The Julian Day at which the lagnam is to be computed</span>
<span class="sd">        lat: Latitude of the place where the lagnam is to be computed</span>
<span class="sd">        lon: Longitude of the place where the lagnam is to be computed</span>
<span class="sd">        offset: Used by internal functions for bracketing</span>

<span class="sd">      Returns:</span>
<span class="sd">        tuples detailing the end time of each lagna, beginning with the one</span>
<span class="sd">        prevailing at sunrise</span>

<span class="sd">      Examples:</span>
<span class="sd">        &gt;&gt;&gt; get_lagna_data(2458222.5208333335, lat=13.08784, lon=80.27847, tz_off=5.5)</span>
<span class="sd">        [(12, 2458222.5214310056), (1, 2458222.596420153), (2, 2458222.6812926503), (3, 2458222.772619788), (4, 2458222.8624254186), (5, 2458222.9478168003), (6, 2458223.0322211445), (7, 2458223.1202004547), (8, 2458223.211770839), (9, 2458223.3000455885), (10, 2458223.3787625884), (11, 2458223.4494649624)]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">lagna_sunrise</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">floor</span><span class="p">(</span><span class="n">get_lagna_float</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">))</span>

    <span class="n">lagna_list</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span> <span class="o">+</span> <span class="n">lagna_sunrise</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">12</span> <span class="o">+</span> <span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">)]</span>

    <span class="n">lbrack</span> <span class="o">=</span> <span class="n">jd_sunrise</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">24</span>
    <span class="n">rbrack</span> <span class="o">=</span> <span class="n">jd_sunrise</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">24</span>
    <span class="n">lagna_data</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">lagna</span> <span class="ow">in</span> <span class="n">lagna_list</span><span class="p">:</span>
        <span class="c1"># print(&#39;---\n&#39;, lagna)</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">debug</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lagna sunrise&#39;</span><span class="p">,</span> <span class="n">get_lagna_float</span><span class="p">(</span><span class="n">jd_sunrise</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;lbrack&#39;</span><span class="p">,</span> <span class="n">get_lagna_float</span><span class="p">(</span><span class="n">lbrack</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="o">-</span><span class="n">lagna</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;rbrack&#39;</span><span class="p">,</span> <span class="n">get_lagna_float</span><span class="p">(</span><span class="n">rbrack</span><span class="p">,</span> <span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="o">-</span><span class="n">lagna</span><span class="p">))</span>

        <span class="n">lagna_end_time</span> <span class="o">=</span> <span class="n">brentq</span><span class="p">(</span><span class="n">get_lagna_float</span><span class="p">,</span> <span class="n">lbrack</span><span class="p">,</span> <span class="n">rbrack</span><span class="p">,</span>
                                <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">lon</span><span class="p">,</span> <span class="o">-</span><span class="n">lagna</span><span class="p">,</span> <span class="n">debug</span><span class="p">))</span>
        <span class="n">lbrack</span> <span class="o">=</span> <span class="n">lagna_end_time</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">24</span>
        <span class="n">rbrack</span> <span class="o">=</span> <span class="n">lagna_end_time</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">24</span>
        <span class="n">lagna_data</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">lagna</span><span class="p">,</span> <span class="n">lagna_end_time</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">lagna_data</span></div>


<div class="viewcode-block" id="get_solar_month_day"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_solar_month_day">[docs]</a><span class="k">def</span> <span class="nf">get_solar_month_day</span><span class="p">(</span><span class="n">jd_start</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Compute the solar month and day for a given Julian day</span>

<span class="sd">    Computes the solar month and day on the day corresponding to a given</span>
<span class="sd">    Julian day</span>

<span class="sd">    Args:</span>
<span class="sd">      float jd</span>
<span class="sd">      city</span>

<span class="sd">    Returns:</span>
<span class="sd">      int solar_month</span>
<span class="sd">      int solar_month_day</span>

<span class="sd">    Examples:</span>
<span class="sd">      &gt;&gt;&gt; get_solar_month_day(2457023.27, city(&#39;Chennai&#39;, &#39;13:05:24&#39;, \</span>
<span class="sd">&#39;80:16:12&#39;, &#39;Asia/Calcutta&#39;))</span>
<span class="sd">      (9, 17)</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">jd_sunset</span> <span class="o">=</span> <span class="n">swe</span><span class="o">.</span><span class="n">rise_trans</span><span class="p">(</span><span class="n">jd_start</span><span class="o">=</span><span class="n">jd_start</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">swe</span><span class="o">.</span><span class="n">SUN</span><span class="p">,</span> <span class="n">lon</span><span class="o">=</span><span class="n">city</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span>
                               <span class="n">lat</span><span class="o">=</span><span class="n">city</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span> <span class="n">rsmi</span><span class="o">=</span><span class="n">swe</span><span class="o">.</span><span class="n">CALC_SET</span> <span class="o">|</span> <span class="n">swe</span><span class="o">.</span><span class="n">BIT_DISC_CENTER</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">solar_month</span> <span class="o">=</span> <span class="n">get_angam</span><span class="p">(</span><span class="n">jd_sunset</span><span class="p">,</span> <span class="n">SOLAR_MONTH</span><span class="p">)</span>
    <span class="n">target</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span><span class="n">solar_month</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>

    <span class="n">jd_masa_transit</span> <span class="o">=</span> <span class="n">brentq</span><span class="p">(</span><span class="n">get_angam_float</span><span class="p">,</span> <span class="n">jd_start</span> <span class="o">-</span> <span class="mi">34</span><span class="p">,</span> <span class="n">jd_start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                             <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">SOLAR_MONTH</span><span class="p">,</span> <span class="o">-</span><span class="n">target</span><span class="p">,</span> <span class="kc">False</span><span class="p">))</span>

    <span class="n">jd_next_sunset</span> <span class="o">=</span> <span class="n">swe</span><span class="o">.</span><span class="n">rise_trans</span><span class="p">(</span><span class="n">jd_start</span><span class="o">=</span><span class="n">jd_masa_transit</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">swe</span><span class="o">.</span><span class="n">SUN</span><span class="p">,</span>
                                    <span class="n">lon</span><span class="o">=</span><span class="n">city</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="n">city</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
                                    <span class="n">rsmi</span><span class="o">=</span><span class="n">swe</span><span class="o">.</span><span class="n">CALC_SET</span> <span class="o">|</span> <span class="n">swe</span><span class="o">.</span><span class="n">BIT_DISC_CENTER</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">jd_next_sunrise</span> <span class="o">=</span> <span class="n">swe</span><span class="o">.</span><span class="n">rise_trans</span><span class="p">(</span><span class="n">jd_start</span><span class="o">=</span><span class="n">jd_masa_transit</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="n">swe</span><span class="o">.</span><span class="n">SUN</span><span class="p">,</span>
                                     <span class="n">lon</span><span class="o">=</span><span class="n">city</span><span class="o">.</span><span class="n">longitude</span><span class="p">,</span> <span class="n">lat</span><span class="o">=</span><span class="n">city</span><span class="o">.</span><span class="n">latitude</span><span class="p">,</span>
                                     <span class="n">rsmi</span><span class="o">=</span><span class="n">swe</span><span class="o">.</span><span class="n">CALC_RISE</span> <span class="o">|</span> <span class="n">swe</span><span class="o">.</span><span class="n">BIT_DISC_CENTER</span><span class="p">)[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">jd_next_sunset</span> <span class="o">&gt;</span> <span class="n">jd_next_sunrise</span><span class="p">:</span>
        <span class="c1"># Masa begins after sunset and before sunrise</span>
        <span class="c1"># Therefore Masa 1 is on the day when the sun rises next</span>
        <span class="n">solar_month_day</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span><span class="n">jd_sunset</span> <span class="o">-</span> <span class="n">jd_next_sunrise</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Masa has started before sunset</span>
        <span class="n">solar_month_day</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">jd_sunset</span> <span class="o">-</span> <span class="n">jd_next_sunset</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">solar_month</span><span class="p">,</span> <span class="n">solar_month_day</span><span class="p">)</span></div>


<div class="viewcode-block" id="get_kalas"><a class="viewcode-back" href="../../../jyotisha_panchangam_helper_functions.html#jyotisha.panchangam.helper_functions.get_kalas">[docs]</a><span class="k">def</span> <span class="nf">get_kalas</span><span class="p">(</span><span class="n">start_span</span><span class="p">,</span> <span class="n">end_span</span><span class="p">,</span> <span class="n">part_start</span><span class="p">,</span> <span class="n">num_parts</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Compute kalas in a given span with specified fractions</span>

<span class="sd">    Args:</span>
<span class="sd">      float (jd) start_span</span>
<span class="sd">      float (jd) end_span</span>
<span class="sd">      int part_start</span>
<span class="sd">      int num_parts</span>

<span class="sd">    Returns:</span>
<span class="sd">       tuple (start_time_jd, end_time_jd)</span>

<span class="sd">    Examples:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">start_fraction</span> <span class="o">=</span> <span class="n">part_start</span> <span class="o">/</span> <span class="n">num_parts</span>
    <span class="n">end_fraction</span> <span class="o">=</span> <span class="p">(</span><span class="n">part_start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="n">num_parts</span>

    <span class="n">start_time</span> <span class="o">=</span> <span class="n">start_span</span> <span class="o">+</span> <span class="p">(</span><span class="n">end_span</span> <span class="o">-</span> <span class="n">start_span</span><span class="p">)</span> <span class="o">*</span> <span class="n">start_fraction</span>
    <span class="n">end_time</span> <span class="o">=</span> <span class="n">start_span</span> <span class="o">+</span> <span class="p">(</span><span class="n">end_span</span> <span class="o">-</span> <span class="n">start_span</span><span class="p">)</span> <span class="o">*</span> <span class="n">end_fraction</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">start_time</span><span class="p">,</span> <span class="n">end_time</span><span class="p">)</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../jyotisha.html">jyotisha</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../jyotisha_panchangam.html">jyotisha.panchangam</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../jyotisha_names.html">jyotisha.names</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../jyotisha.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, sanskrit-programmers.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>